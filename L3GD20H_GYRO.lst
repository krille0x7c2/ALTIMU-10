   1               		.file	"L3GD20H_GYRO.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   8               		.text
   9               	.Ltext0:
 108               	.global	write_to_gyro_reg
 110               	write_to_gyro_reg:
   1:L3GD20H_GYRO.c **** /* 
   2:L3GD20H_GYRO.c ****  * File:   L3GD20H_GYRO.c
   3:L3GD20H_GYRO.c ****  * Author: krille0x7c2
   4:L3GD20H_GYRO.c ****  *
   5:L3GD20H_GYRO.c ****  * Created on February 17, 2015, 8:46 AM
   6:L3GD20H_GYRO.c ****  */
   7:L3GD20H_GYRO.c **** #include <avr/io.h>
   8:L3GD20H_GYRO.c **** #include "twi_master.h"
   9:L3GD20H_GYRO.c **** #include "L3GD20H_GYRO.h"
  10:L3GD20H_GYRO.c **** #include "altiMU_10.h"
  11:L3GD20H_GYRO.c **** 
  12:L3GD20H_GYRO.c **** 
  13:L3GD20H_GYRO.c **** uint8_t write_to_gyro_reg(unsigned char address, uint8_t data) {
 112               	.LM0:
 113               	.LFBB1:
 114 0000 CF93      		push r28
 115 0002 DF93      		push r29
 116               	/* prologue: function */
 117               	/* frame size = 0 */
 118               	/* stack size = 2 */
 119               	.L__stack_usage = 2
 120 0004 D82F      		mov r29,r24
 121 0006 C62F      		mov r28,r22
  14:L3GD20H_GYRO.c ****     if (i2c_start(GYRO_SLAVE_ADDRESS << 1) == 0) {
 123               	.LM1:
 124 0008 86ED      		ldi r24,lo8(-42)
 125 000a 0E94 0000 		call i2c_start
 126 000e 8111      		cpse r24,__zero_reg__
 127 0010 00C0      		rjmp .L3
  15:L3GD20H_GYRO.c ****         i2c_write(address);
 129               	.LM2:
 130 0012 8D2F      		mov r24,r29
 131 0014 0E94 0000 		call i2c_write
  16:L3GD20H_GYRO.c ****         i2c_write(data);
 133               	.LM3:
 134 0018 8C2F      		mov r24,r28
 135 001a 0E94 0000 		call i2c_write
  17:L3GD20H_GYRO.c **** 
  18:L3GD20H_GYRO.c ****         return 1;
 137               	.LM4:
 138 001e 81E0      		ldi r24,lo8(1)
 139 0020 00C0      		rjmp .L2
 140               	.L3:
  19:L3GD20H_GYRO.c ****     } else {
  20:L3GD20H_GYRO.c ****         return 0;
 142               	.LM5:
 143 0022 80E0      		ldi r24,0
 144               	.L2:
 145               	/* epilogue start */
  21:L3GD20H_GYRO.c ****     }
  22:L3GD20H_GYRO.c **** }
 147               	.LM6:
 148 0024 DF91      		pop r29
 149 0026 CF91      		pop r28
 150 0028 0895      		ret
 152               	.Lscope1:
 155               	.global	read_from_gyro_reg
 157               	read_from_gyro_reg:
  23:L3GD20H_GYRO.c **** 
  24:L3GD20H_GYRO.c **** uint8_t read_from_gyro_reg(unsigned char address) {
 159               	.LM7:
 160               	.LFBB2:
 161 002a CF93      		push r28
 162               	/* prologue: function */
 163               	/* frame size = 0 */
 164               	/* stack size = 1 */
 165               	.L__stack_usage = 1
 166 002c C82F      		mov r28,r24
  25:L3GD20H_GYRO.c **** 
  26:L3GD20H_GYRO.c ****     if (i2c_start(GYRO_SLAVE_ADDRESS << 1) == 0) {
 168               	.LM8:
 169 002e 86ED      		ldi r24,lo8(-42)
 170 0030 0E94 0000 		call i2c_start
 171 0034 8111      		cpse r24,__zero_reg__
 172 0036 00C0      		rjmp .L7
  27:L3GD20H_GYRO.c ****         i2c_write(address);
 174               	.LM9:
 175 0038 8C2F      		mov r24,r28
 176 003a 0E94 0000 		call i2c_write
  28:L3GD20H_GYRO.c **** 
  29:L3GD20H_GYRO.c ****         if (i2c_rep_start(((uint8_t) GYRO_SLAVE_ADDRESS << 1) | 1) == 0) {
 178               	.LM10:
 179 003e 87ED      		ldi r24,lo8(-41)
 180 0040 0E94 0000 		call i2c_rep_start
 181 0044 8111      		cpse r24,__zero_reg__
 182 0046 00C0      		rjmp .L7
 183               	/* epilogue start */
  30:L3GD20H_GYRO.c **** 
  31:L3GD20H_GYRO.c **** 
  32:L3GD20H_GYRO.c ****             return i2c_readNak();
  33:L3GD20H_GYRO.c ****         }
  34:L3GD20H_GYRO.c ****     }
  35:L3GD20H_GYRO.c ****     return 0;
  36:L3GD20H_GYRO.c **** }
 185               	.LM11:
 186 0048 CF91      		pop r28
  32:L3GD20H_GYRO.c ****         }
 188               	.LM12:
 189 004a 0C94 0000 		jmp i2c_readNak
 190               	.L7:
 192               	.LM13:
 193 004e 80E0      		ldi r24,0
 194               	/* epilogue start */
 195 0050 CF91      		pop r28
 196 0052 0895      		ret
 198               	.Lscope2:
 200               	.global	init_gyro
 202               	init_gyro:
  37:L3GD20H_GYRO.c **** 
  38:L3GD20H_GYRO.c **** uint8_t init_gyro(void) {
 204               	.LM14:
 205               	.LFBB3:
 206               	/* prologue: function */
 207               	/* frame size = 0 */
 208               	/* stack size = 0 */
 209               	.L__stack_usage = 0
  39:L3GD20H_GYRO.c ****     write_to_gyro_reg(GYRO_LOW_ODR, 0x00);
 211               	.LM15:
 212 0054 60E0      		ldi r22,0
 213 0056 89E3      		ldi r24,lo8(57)
 214 0058 0E94 0000 		call write_to_gyro_reg
  40:L3GD20H_GYRO.c ****     i2c_stop();
 216               	.LM16:
 217 005c 0E94 0000 		call i2c_stop
  41:L3GD20H_GYRO.c ****     write_to_gyro_reg(GYRO_CTRL4, 0x00);
 219               	.LM17:
 220 0060 60E0      		ldi r22,0
 221 0062 83E2      		ldi r24,lo8(35)
 222 0064 0E94 0000 		call write_to_gyro_reg
  42:L3GD20H_GYRO.c ****     i2c_stop();
 224               	.LM18:
 225 0068 0E94 0000 		call i2c_stop
  43:L3GD20H_GYRO.c ****     write_to_gyro_reg(GYRO_CTRL1, 0x0F);
 227               	.LM19:
 228 006c 6FE0      		ldi r22,lo8(15)
 229 006e 80E2      		ldi r24,lo8(32)
 230 0070 0E94 0000 		call write_to_gyro_reg
  44:L3GD20H_GYRO.c ****     i2c_stop();
 232               	.LM20:
 233 0074 0E94 0000 		call i2c_stop
  45:L3GD20H_GYRO.c ****     return 1;
  46:L3GD20H_GYRO.c **** }
 235               	.LM21:
 236 0078 81E0      		ldi r24,lo8(1)
 237 007a 0895      		ret
 239               	.Lscope3:
 241               	.global	read_gyro_values
 243               	read_gyro_values:
  47:L3GD20H_GYRO.c **** struct valstruct read_gyro_values(void) {
 245               	.LM22:
 246               	.LFBB4:
 247 007c 1F93      		push r17
 248 007e CF93      		push r28
 249 0080 DF93      		push r29
 250               	/* prologue: function */
 251               	/* frame size = 0 */
 252               	/* stack size = 3 */
 253               	.L__stack_usage = 3
  48:L3GD20H_GYRO.c **** 
  49:L3GD20H_GYRO.c ****     Val val;
  50:L3GD20H_GYRO.c ****     if (i2c_start(GYRO_SLAVE_ADDRESS << 1) == 0) {
 255               	.LM23:
 256 0082 86ED      		ldi r24,lo8(-42)
 257 0084 0E94 0000 		call i2c_start
 258 0088 8111      		cpse r24,__zero_reg__
 259 008a 00C0      		rjmp .L13
  51:L3GD20H_GYRO.c ****         i2c_write(GYRO_OUT_X_L | (1 << 7));
 261               	.LM24:
 262 008c 88EA      		ldi r24,lo8(-88)
 263 008e 0E94 0000 		call i2c_write
  52:L3GD20H_GYRO.c **** 
  53:L3GD20H_GYRO.c ****         if (i2c_rep_start(((uint8_t) GYRO_SLAVE_ADDRESS << 1) | 1) == 0) {
 265               	.LM25:
 266 0092 87ED      		ldi r24,lo8(-41)
 267 0094 0E94 0000 		call i2c_rep_start
 268 0098 8111      		cpse r24,__zero_reg__
 269 009a 00C0      		rjmp .L13
 270               	.LBB2:
  54:L3GD20H_GYRO.c ****             uint8_t xlg = i2c_readAck();
 272               	.LM26:
 273 009c 0E94 0000 		call i2c_readAck
 274 00a0 182F      		mov r17,r24
  55:L3GD20H_GYRO.c ****             uint8_t xhg = i2c_readAck();
 276               	.LM27:
 277 00a2 0E94 0000 		call i2c_readAck
  56:L3GD20H_GYRO.c ****             
  57:L3GD20H_GYRO.c ****             uint8_t ylg = i2c_readAck();
 279               	.LM28:
 280 00a6 0E94 0000 		call i2c_readAck
 281 00aa D82F      		mov r29,r24
  58:L3GD20H_GYRO.c ****             uint8_t yhg = i2c_readAck();
 283               	.LM29:
 284 00ac 0E94 0000 		call i2c_readAck
  59:L3GD20H_GYRO.c ****             
  60:L3GD20H_GYRO.c ****             uint8_t zhg = i2c_readAck();
 286               	.LM30:
 287 00b0 0E94 0000 		call i2c_readAck
  61:L3GD20H_GYRO.c ****             uint8_t zlg = i2c_readNak();
 289               	.LM31:
 290 00b4 0E94 0000 		call i2c_readNak
 291 00b8 C82F      		mov r28,r24
 292               	.L13:
 293               	.LBE2:
  62:L3GD20H_GYRO.c **** 
  63:L3GD20H_GYRO.c **** 
  64:L3GD20H_GYRO.c ****             val.x = (int16_t) (xhg << 8 | xlg);
  65:L3GD20H_GYRO.c ****             val.y = (int16_t) (yhg << 8 | ylg);
  66:L3GD20H_GYRO.c ****             val.z = (int16_t) (zhg << 8 | zlg);
  67:L3GD20H_GYRO.c **** 
  68:L3GD20H_GYRO.c ****             
  69:L3GD20H_GYRO.c ****         }
  70:L3GD20H_GYRO.c ****         return val;
  71:L3GD20H_GYRO.c **** 
  72:L3GD20H_GYRO.c ****     }
  73:L3GD20H_GYRO.c ****     return val;
  74:L3GD20H_GYRO.c **** }
 295               	.LM32:
 296 00ba 612F      		mov r22,r17
 297 00bc 7D2F      		mov r23,r29
 298 00be 8C2F      		mov r24,r28
 299               	/* epilogue start */
 300 00c0 DF91      		pop r29
 301 00c2 CF91      		pop r28
 302 00c4 1F91      		pop r17
 303 00c6 0895      		ret
 305               	.Lscope4:
 307               	.Letext0:
 308               		.ident	"GCC: (GNU) 4.9.2 20141224 (prerelease)"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 L3GD20H_GYRO.c
     /tmp/cc6C3ycv.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/cc6C3ycv.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/cc6C3ycv.s:4      *ABS*:000000000000003f __SREG__
     /tmp/cc6C3ycv.s:5      *ABS*:0000000000000000 __tmp_reg__
     /tmp/cc6C3ycv.s:6      *ABS*:0000000000000001 __zero_reg__
     /tmp/cc6C3ycv.s:110    .text:0000000000000000 write_to_gyro_reg
     /tmp/cc6C3ycv.s:157    .text:000000000000002a read_from_gyro_reg
     /tmp/cc6C3ycv.s:202    .text:0000000000000054 init_gyro
     /tmp/cc6C3ycv.s:243    .text:000000000000007c read_gyro_values

UNDEFINED SYMBOLS
i2c_start
i2c_write
i2c_rep_start
i2c_readNak
i2c_stop
i2c_readAck
